<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comments - How About No</title>
    <meta name="description" content="A teenager's blog about art, stuff, and random thoughts">
    <link rel="stylesheet" href="/howaboutno/assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <a href="/howaboutno/">How About No</a>
            </div>
            <div class="nav-links">
                <a href="/howaboutno/" class="nav-link ">Home</a>
                <a href="/howaboutno/art" class="nav-link ">Art</a>
                <a href="/howaboutno/stuff" class="nav-link ">Stuff</a>
                <a href="/howaboutno/comments" class="nav-link active">Comments</a>
            </div>
        </nav>
    </header>

    <main class="main">
        <div class="page-header">
    <h1 class="page-title">Comments & Feedback</h1>
    <p class="page-subtitle">Drop your thoughts, suggestions, or just say hi!</p>
</div>

<div class="comments-section">
    <div class="comments-intro">
        <h2>ðŸ’¬ Let's Chat!</h2>
        <p>I'd love to hear from you! Whether you want to discuss a blog post, share your own thoughts, or just want to say hello, this is the place to do it. Don't be shy - I promise I don't bite! ðŸ˜Š</p>
    </div>

    <div class="comments-card">
        <div id="cusdis_thread" 
             data-host="https://cusdis.com" 
             data-app-id="f774ef06-871e-4aea-91d6-12d6e4e0c4f8" 
             data-page-id="comments" 
             data-page-url="http://localhost:4000/howaboutno/comments/" 
             data-page-title="Comments & Feedback"
             data-theme="dark">
        </div>
    </div>
</div>

<script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

<script>
// Inject CSS into the Cusdis iframe srcdoc to remove inner scrollbars and honor dark theme
const observer = new MutationObserver((mutations) => {
    for (const mutation of mutations) {
        if (mutation.addedNodes.length === 0) continue;
        const node = mutation.addedNodes[0];
        if (!node || node.tagName !== 'IFRAME') continue;

        try {
            const extraCss = `
              <style>
                /* Remove inner scrollbars and expand content */
                html, body, #root { height: auto !important; max-height: none !important; overflow: visible !important; }
                * { scrollbar-width: none; }
                *::-webkit-scrollbar { width: 0 !important; height: 0 !important; }
                /* Dark base to match site */
                :root { color-scheme: dark !important; }
                body { background: #1a1a1a !important; color: #fff !important; }
              </style>
            `;
            if (typeof node.srcdoc === 'string' && node.srcdoc.includes('</style>')) {
                node.srcdoc = node.srcdoc.replace('</style>', extraCss + '</style>');
            } else if (typeof node.srcdoc === 'string') {
                node.srcdoc = node.srcdoc.replace('</head>', extraCss + '</head>');
            }
            // Also relax and enlarge iframe element constraints
            // Get height of .mt-4.px-1 and add to minHeight
            const getListHeight = () => {
                try {
                    const d = node.contentDocument || node.contentWindow.document;
                    if (!d) return 0;
                    const list = d.querySelector('.mt-4.px-1');
                    if (!list) return 0;
                    return list.offsetHeight || list.scrollHeight || 0;
                } catch (_) {
                    return 0;
                }
            };

            const listHeight = getListHeight();
            node.style.height = 'auto';
            node.style.maxHeight = 'none';
            node.style.minHeight = (600 + listHeight) + 'px';
            node.style.width = '100%';
            node.style.overflow = 'visible';
            node.setAttribute('scrolling', 'no');

            // Try to auto-resize to content when accessible
            const tryResize = () => {
                const newListHeight = getListHeight();
                if (newListHeight > 0) {
                    node.style.minHeight = (370 + newListHeight) + 'px';
                }
            };
            
            tryResize();
            setTimeout(tryResize, 1200);
            setTimeout(tryResize, 3000);
            setInterval(tryResize, 5000);
        } catch (e) {
            console.log('Cusdis iframe style injection skipped:', e);
        }
    }
});
observer.observe(document.getElementById('cusdis_thread'), { childList: true, subtree: true });
</script>


    </main>

    <footer class="footer">
        <p>&copy; 2025 How About No. Made with ðŸ’€ and caffeine.</p>
    </footer>

    <script src="/howaboutno/assets/js/main.js"></script>
</body>
</html>
