---
layout: default
---

<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>
        <div class="post-meta">
            <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%B %d, %Y" }}</time>
            {% if page.author %}
                <span class="post-author">by {{ page.author }}</span>
            {% endif %}
        </div>
    </header>

    <div class="post-content">
        {{ content }}
    </div>

    <footer class="post-footer">
        <div class="post-tags">
            {% if page.tags %}
                {% for tag in page.tags %}
                    <span class="tag">#{{ tag }}</span>
                {% endfor %}
            {% endif %}
        </div>
    </footer>
</article>

<div class="post-navigation">
    {% if page.previous.url %}
        <a href="{{ page.previous.url | relative_url }}" class="nav-link prev">← {{ page.previous.title }}</a>
    {% endif %}
    {% if page.next.url %}
        <a href="{{ page.next.url | relative_url }}" class="nav-link next">{{ page.next.title }} →</a>
    {% endif %}
</div>


    <div class="post">
        <div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="f774ef06-871e-4aea-91d6-12d6e4e0c4f8" data-page-id="{{ page.id }}" data-page-url="{{ page.url | absolute_url }}" data-page-title="{{ page.title }}" data-theme="dark"></div>
    </div>


<script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

<script>
// Inject CSS into the Cusdis iframe srcdoc to remove inner scrollbars and honor dark theme
const observer = new MutationObserver((mutations) => {
    for (const mutation of mutations) {
        if (mutation.addedNodes.length === 0) continue;
        const node = mutation.addedNodes[0];
        if (!node || node.tagName !== 'IFRAME') continue;

        try {
            const extraCss = `
                <style>
                /* Remove inner scrollbars and expand content */
                html, body, #root { height: auto !important; max-height: none !important; overflow: visible !important; }
                * { scrollbar-width: none; }
                *::-webkit-scrollbar { width: 0 !important; height: 0 !important; }
                /* Dark base to match site */
                :root { color-scheme: dark !important; }
                body { background: #1a1a1a !important; color: #fff !important; }
                /* Hide Cusdis branding */
                .text-center.text-gray-500.dark\\:text-gray-100.text-xs,
                .text-center.text-gray-500,
                a[href="https://cusdis.com"] {
                  display: none !important;
                }
                </style>
            `;
            if (typeof node.srcdoc === 'string' && node.srcdoc.includes('</style>')) {
                node.srcdoc = node.srcdoc.replace('</style>', extraCss + '</style>');
            } else if (typeof node.srcdoc === 'string') {
                node.srcdoc = node.srcdoc.replace('</head>', extraCss + '</head>');
            }
            // Also relax and enlarge iframe element constraints
            // Get height of .mt-4.px-1 and add to minHeight
            const getListHeight = () => {
                try {
                    const d = node.contentDocument || node.contentWindow.document;
                    if (!d) return 0;
                    const list = d.querySelector('.mt-4.px-1');
                    if (!list) return 0;
                    return list.offsetHeight || list.scrollHeight || 0;
                } catch (_) {
                    return 0;
                }
            };

            const listHeight = getListHeight();
            node.style.height = 'auto';
            node.style.maxHeight = 'none';
            node.style.minHeight = (370 + listHeight) + 'px';
            node.style.width = '100%';
            node.style.overflow = 'visible';
            node.setAttribute('scrolling', 'no');

            // Try to auto-resize to content when accessible
            const tryResize = () => {
                const newListHeight = getListHeight();
                if (newListHeight > 0) {
                    node.style.minHeight = (370 + newListHeight) + 'px';
                }
            };
            
            tryResize();
            setTimeout(tryResize, 1200);
            setTimeout(tryResize, 3000);
            setInterval(tryResize, 5000);
        } catch (e) {
            console.log('Cusdis iframe style injection skipped:', e);
        }
    }
});
observer.observe(document.getElementById('cusdis_thread'), { childList: true, subtree: true });
</script>